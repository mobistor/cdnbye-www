(window.webpackJsonp=window.webpackJsonp||[]).push([[9,14],{384:function(t,e,a){},419:function(t,e,a){"use strict";var s=a(384);a.n(s).a},430:function(t,e,a){"use strict";a.r(e);a(109);var s={name:"HLS-Player",props:{playerData:{type:Object,required:!0,default:function(){return{url:"",offload:"0",ratio:"0",upload:"0",peers:"0",buffers:0,peerID:""}}}},data:function(){return{player:null,statis:{url:"",offload:"0",upload:"0",ratio:"0",peers:"0",buffers:0,peerID:""},p2pVersion:""}},watch:{playerData:{handler:function(t){this.statis=JSON.parse(JSON.stringify(t))},immediate:!0,deep:!0}},mounted:function(){var t=this,e=videojs("#player",{autoplay:!0,html5:{hlsjsConfig:{debug:!1,p2pConfig:{logLevel:!0,getStats:function(e,a,s){t.$parent.onStats({totalP2PDownloaded:e,totalP2PUploaded:a,totalHTTPDownloaded:s})},getPeerId:function(e){t.$parent.onPeerID(e)},getPeersInfo:function(e){t.$parent.onPeers(e)}}}}});this.player=e,this.p2pVersion=window.Hls.engineVersion},methods:{simulate:function(){window.open("".concat(window.location.origin).concat(window.location.pathname,"?url=").concat(encodeURIComponent(this.statis.url)))},playVideo:function(){window.open("".concat(window.location.origin).concat(window.location.pathname,"?url=").concat(encodeURIComponent(this.statis.url)),"_self")},inputChange:function(t){this.statis.url=t.target.value}},beforeDestroy:function(){this.player.dispose()}},i=(a(419),a(4)),o=Object(i.a)(s,(function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"player container"},[a("div",{staticClass:"player-container"},[a("video",{staticClass:"video-js vjs-default-skin",attrs:{id:"player",controls:"",preload:"none"}},[a("source",{attrs:{src:this.statis.url,type:"application/x-mpegURL"}})])]),t._v(" "),a("div",{staticClass:"player-statistics"},[a("div",{staticClass:"statis-item item-offload"},[a("span",{staticClass:"item-label"},[a("span",{staticClass:"item-label-data"},[t._v(t._s(t.statis.offload))]),t._v(" MB"),a("br"),t._v(" "),a("span",{staticClass:"item-name offload"},[t._v("Offload")])])]),t._v(" "),a("div",{staticClass:"statis-item item-ratio"},[a("span",{staticClass:"item-label"},[a("span",{staticClass:"item-label-data"},[t._v(t._s(t.statis.ratio))]),t._v(" %"),a("br"),t._v(" "),a("span",{staticClass:"item-name ratio"},[t._v("P2P Ratio")])])]),t._v(" "),a("div",{staticClass:"statis-item item-upload"},[a("span",{staticClass:"item-label"},[a("span",{staticClass:"item-label-data"},[t._v(t._s(t.statis.upload))]),t._v(" MB"),a("br"),t._v(" "),a("span",{staticClass:"item-name upload"},[t._v("Upload")])])]),t._v(" "),a("div",{staticClass:"statis-item item-peers"},[a("span",{staticClass:"item-label"},[a("span",{staticClass:"item-label-data"},[t._v(t._s(t.statis.peers))]),a("br"),t._v(" "),a("span",{staticClass:"item-name peers"},[t._v("Peers")])])])]),t._v(" "),a("div",{staticClass:"clear"})])}),[],!1,null,null,null);e.default=o.exports},464:function(t,e,a){"use strict";var s=a(0),i=a(35),o=a(465),n=a(188),r=a(1),l=1..toFixed,c=Math.floor,d=function(t,e,a){return 0===e?a:e%2==1?d(t,e-1,a*t):d(t*t,e/2,a)};s({target:"Number",proto:!0,forced:l&&("0.000"!==8e-5.toFixed(3)||"1"!==.9.toFixed(0)||"1.25"!==1.255.toFixed(2)||"1000000000000000128"!==(0xde0b6b3a7640080).toFixed(0))||!r((function(){l.call({})}))},{toFixed:function(t){var e,a,s,r,l=o(this),u=i(t),f=[0,0,0,0,0,0],p="",v="0",h=function(t,e){for(var a=-1,s=e;++a<6;)s+=t*f[a],f[a]=s%1e7,s=c(s/1e7)},m=function(t){for(var e=6,a=0;--e>=0;)a+=f[e],f[e]=c(a/t),a=a%t*1e7},P=function(){for(var t=6,e="";--t>=0;)if(""!==e||0===t||0!==f[t]){var a=String(f[t]);e=""===e?a:e+n.call("0",7-a.length)+a}return e};if(u<0||u>20)throw RangeError("Incorrect fraction digits");if(l!=l)return"NaN";if(l<=-1e21||l>=1e21)return String(l);if(l<0&&(p="-",l=-l),l>1e-21)if(a=(e=function(t){for(var e=0,a=t;a>=4096;)e+=12,a/=4096;for(;a>=2;)e+=1,a/=2;return e}(l*d(2,69,1))-69)<0?l*d(2,-e,1):l/d(2,e,1),a*=4503599627370496,(e=52-e)>0){for(h(0,a),s=u;s>=7;)h(1e7,0),s-=7;for(h(d(10,s,1),0),s=e-1;s>=23;)m(1<<23),s-=23;m(1<<s),h(1,1),m(2),v=P()}else h(0,a),h(1<<-e,0),v=P()+n.call("0",u);return v=u>0?p+((r=v.length)<=u?"0."+n.call("0",u-r)+v:v.slice(0,r-u)+"."+v.slice(r-u)):p+v}})},465:function(t,e,a){var s=a(29);t.exports=function(t){if("number"!=typeof t&&"Number"!=s(t))throw TypeError("Incorrect invocation");return+t}},471:function(t,e,a){"use strict";a.r(e);a(464);var s=a(430),i={name:"Demo",data:function(){return{statis:{url:"https://1257070836.vod2.myqcloud.com/0cf6732evodtransgzp1257070836/81fe3a525285890782510564774/v.f220.m3u8",offload:"0",ratio:"0",upload:"0",peers:"0",buffers:0,peerID:""},lineData:{series1:[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],series2:[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]}}},components:{"HLS-Player":s.default},methods:{onStats:function(t){var e=t.totalHTTPDownloaded,a=void 0===e?0:e,s=t.totalP2PDownloaded,i=void 0===s?0:s,o=t.totalP2PUploaded,n=void 0===o?0:o,r=a+i;this.statis.ratio=Math.round(i/r*100),this.statis.offload=(i/1024).toFixed(2),this.statis.upload=(n/1024).toFixed(2)},onPeerID:function(t){this.statis.peerID=t},onPeers:function(t){this.statis.peers=t.length},onFogLoaded:function(t,e){var a=e.frag;!0===a.loadByP2P?("P2P",this.lineData.series2.push((a.loaded/1024).toFixed()),this.lineData.series1.push(0)):("HTTP",this.lineData.series1.push((a.loaded/1024).toFixed()),this.lineData.series2.push(0)),this.lineData.series1.shift(),this.lineData.series2.shift()},HLSerror:function(t,e){var a=Hls.ErrorDetails;switch(e.details){case a.BUFFER_STALLED_ERROR:this.statis.buffers++}}}},o=a(4),n=Object(o.a)(i,(function(){var t=this.$createElement,e=this._self._c||t;return e("div",[e("HLS-Player",{attrs:{playerData:this.statis},on:{onStats:this.onStats,onPeerID:this.onPeerID,onPeers:this.onPeers}})],1)}),[],!1,null,null,null);e.default=n.exports}}]);